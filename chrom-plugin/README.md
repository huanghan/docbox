# 网页收藏助手 Chrome 插件

一个功能强大的 Chrome 插件，可以轻松收藏网页到自定义服务器，支持标签管理和多种收藏方式。

## 🌟 主要功能

### 1. 点击图标收藏
- 点击浏览器工具栏中的插件图标
- 弹出收藏界面，显示当前网页信息
- 可以添加自定义标签和备注
- 点击收藏按钮保存到服务器

### 2. 右键菜单收藏
- 在页面上右键，选择"📚 收藏当前网页"
- 在链接上右键，选择"🔗 收藏这个链接"
- 在选中文本上右键，选择"📝 收藏选中内容"

### 3. 键盘快捷键
- `Ctrl+Shift+S`: 快速收藏当前页面
- `Ctrl+Shift+D`: 打开收藏弹窗

### 4. 智能功能
- 自动生成建议标签（基于网站域名和页面标题）
- 获取网页图标、描述和关键词
- 本地备份存储（即使服务器不可用也能保存）
- 已收藏页面指示器

## 📦 安装方法

### 1. 开发者模式安装

1. 打开 Chrome 浏览器
2. 访问 `chrome://extensions/`
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择 `chrom-plugin` 文件夹
6. 插件安装完成

### 2. 图标文件
由于需要图标文件才能正常使用，请在 `icons` 目录下添加以下尺寸的图标：
- `icon16.png` (16x16)
- `icon32.png` (32x32)
- `icon48.png` (48x48)
- `icon128.png` (128x128)

可以使用任何在线图标生成器创建这些图标，或者使用以下临时解决方案：

```bash
# 在 chrom-plugin/icons 目录下创建简单的文本图标
echo "📚" > icon16.png
echo "📚" > icon32.png
echo "📚" > icon48.png
echo "📚" > icon128.png
```

## ⚙️ 服务器配置

### 默认设置
插件默认将数据发送到 `http://localhost:3000/api/bookmarks`。

### 自定义服务器
1. 点击插件图标打开收藏界面
2. 在浏览器中访问 `chrome://extensions/`
3. 找到"网页收藏助手"，点击"详情"
4. 点击"扩展程序选项"
5. 设置自定义服务器 URL 和 API 密钥

### 服务器 API 要求
服务器需要提供以下 API 端点：

```
POST /api/bookmarks
Content-Type: application/json
Authorization: Bearer YOUR_API_KEY (可选)

{
  "url": "https://example.com",
  "title": "网页标题",
  "tags": ["标签1", "标签2"],
  "note": "备注信息",
  "favicon": "https://example.com/favicon.ico",
  "timestamp": "2023-12-07T10:30:00.000Z",
  "domain": "example.com"
}
```

响应格式：
```json
{
  "success": true,
  "id": "收藏ID",
  "message": "收藏成功"
}
```

## 🛠️ 开发说明

### 文件结构
```
chrom-plugin/
├── manifest.json      # 插件配置文件
├── popup.html         # 弹出界面 HTML
├── popup.css          # 弹出界面样式
├── popup.js           # 弹出界面逻辑
├── background.js      # 后台脚本
├── content.js         # 内容脚本
├── icons/             # 图标文件
└── README.md          # 说明文档
```

### 权限说明
- `activeTab`: 获取当前活动标签页信息
- `contextMenus`: 创建右键菜单
- `storage`: 本地存储设置和备份数据
- `<all_urls>`: 向任何 URL 发送网络请求

### 本地存储
插件会在本地存储最近的 100 条收藏记录作为备份，即使服务器不可用也能保证数据不丢失。

## 🔧 常见问题

### Q: 插件图标不显示
A: 请确保在 `icons` 目录下有正确的图标文件，或者使用占位符图标。

### Q: 无法连接到服务器
A: 检查服务器 URL 是否正确，确保服务器正在运行并且 API 端点可访问。

### Q: 右键菜单没有出现
A: 确保插件已正确安装并启用，刷新页面后重试。

### Q: 快捷键不起作用
A: 确保没有其他插件或应用程序占用相同的快捷键组合。

## 🚀 功能扩展

### 计划中的功能
- [ ] 收藏列表管理界面
- [ ] 标签分类和搜索
- [ ] 导入/导出收藏数据
- [ ] 同步功能
- [ ] 更多快捷键支持

### 自定义开发
插件采用模块化设计，可以轻松扩展新功能：

1. 在 `popup.js` 中添加新的用户界面功能
2. 在 `background.js` 中添加新的后台处理逻辑
3. 在 `content.js` 中添加新的页面交互功能

## 📄 许可证

MIT License - 请随意使用和修改

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个插件！ 